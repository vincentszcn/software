<html><!-- #BeginTemplate "/Templates/template.dwt" -->
<head>
<!-- #BeginEditable "doctitle" --> 
<title>Sysinternals Freeware - Utilities for Windows NT and Windows 2000 - CPUMon</title>
<!-- #EndEditable --> 
<meta http-equiv="Content-Type" content="text/html;">
<script language="JavaScript">
<!--
function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}
//-->
</script>
<link rel=stylesheet href="../../includes/default.css" type="text/css">
</head>
<body topmargin="0" leftmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff" background="../../images/background.gif"   onLoad="MM_preloadImages('../../images/topmenu_images/otop_menu_resources.gif','../../images/topmenu_images/otop_menu_aboutus.gif','../../images/topmenu_images/otop_menu_global.gif','../../images/sidemenu_images/oside_menu_98_utilities.gif','../../images/sidemenu_images/oside_menu_utilities.gif','../../images/sidemenu_images/oside_menu_source.gif','../../images/sidemenu_images/oside_menu_information.gif','../../images/sidemenu_images/oside_menu_98_source.gif','../../images/sidemenu_images/oside_menu_98_information.gif','../../images/topmenu_images/otop_menu_resources.gif','../../images/topmenu_images/otop_menu_sitemap.gif','../../images/topmenu_images/otop_menu_licensing.gif','../../images/topmenu_images/otop_menu_aboutus.gif','../../images/topmenu_images/otop_menu_global.gif')">
<table width="770" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td rowspan="4" width="226" valign="top"> 
      <table width="50" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td><a href="../../index.shtml"><img src="../../images/logo.gif" width="227" height="67" border="0"></a></td>
        </tr>
        <tr valign="top"> 
          <td height="479"><SCRIPT LANGUAGE="JavaScript1.2" TYPE="text/javascript">
<!--
	JM_DOM = (document.getElementById) ? true : false;
	JM_NS4 = (document.layers) ? true : false;
	JM_NS4old = (JM_NS4 && (parseFloat(navigator.appVersion) < 4.02));
	JM_IE = (document.all) ? true : false;
	JM_IE4 = JM_IE && !JM_DOM;
	JM_IE4M = JM_IE4 && JM_Mac;
	JM_IsMenu = (JM_DOM || (JM_NS4 && !JM_NS4old) || (JM_IE && !JM_IE4M));

	
	if ((JM_NS4 || JM_DOM) && !JM_IE) {
		searchWidth = 7;
		emailWidth= 12;
		vgmWidth = 7;
	} else {
		searchWidth = 14;
		emailWidth= 14;
		vgmWidth = 11;
	}
//-->
</SCRIPT>
<table width="176" border="0" cellspacing="0" cellpadding="0" height="279">
  <tr valign="top"> 
    <td height="291"><img src="../../images/sidemenu_images/side_menu_top.gif" width="179" height="92" align="top"><br>
      <a href="../../ntw2k/utilities.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image16','','../../images/sidemenu_images/oside_menu_utilities.gif',1)"><img name="Image16" border="0" src="../../images/sidemenu_images/side_menu_utilities.gif" width="179" height="23" align="top"></a> 
      <a href="../../ntw2k/source.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image11','','../../images/sidemenu_images/oside_menu_source.gif',1)"><img name="Image11" border="0" src="../../images/sidemenu_images/side_menu_source.gif" width="179" height="22" align="top"></a> 
      <a href="../../ntw2k/information.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image12','','../../images/sidemenu_images/oside_menu_information.gif',1)"><img name="Image12" border="0" src="../../images/sidemenu_images/side_menu_information.gif" width="179" height="27" align="top"></a> 
      <img src="../../images/sidemenu_images/side_menu_middle.gif" width="179" height="50" align="top"><br>
      <a href="../../win9x/98utilities.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image13','','../../images/sidemenu_images/oside_menu_98_utilities.gif',1)"><img name="Image13" border="0" src="../../images/sidemenu_images/side_menu_98_utilities.gif" width="179" height="18" align="top"></a> 
      <a href="../../win9x/98source.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image14','','../../images/sidemenu_images/oside_menu_98_source.gif',1)"><img name="Image14" border="0" src="../../images/sidemenu_images/side_menu_98_source.gif" width="179" height="26" align="top"></a> 
      <a href="../../win9x/98information.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image15','','../../images/sidemenu_images/oside_menu_98_information.gif',1)"><img name="Image15" border="0" src="../../images/sidemenu_images/side_menu_98_information.gif" width="179" height="24" align="top"></a> 
      <img src="../../images/sidemenu_images/side_menu_linux.gif" width="179" height="50" border="0" align="top"><br>
      <a href="../../linux/utilities.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image131','','../../images/sidemenu_images/oside_menu_98_utilities.gif',1)"><img name="Image131" border="0" src="../../images/sidemenu_images/side_menu_98_utilities.gif" width="179" height="18" align="top"></a> <br><br>
    </td>
  <tr>
    <td valign="bottom"> 
      <form method="get" action="http://search.atomz.com/search/">
        <img src="../../images/sidemenu_images/side_menu_search.gif" width="179" height="25" border="0" align="top"> 
        <img src="/images/spacer.gif" width="10" height="5"> 
        <script language="JavaScript">document.write("<input type='text' size=" + searchWidth + " name='sp-q'>")</script>
        &nbsp;
        <input type="image" border="0" name="Sign Up!2" src="../../images/sidemenu_images/go.gif" width="35" height="20" alt="Sign Up!" class="floatright"  align="absmiddle">
        <input type=hidden name="sp-a" value="sp1000b352">
      </form>
    </td>
 </tr> 
</table>

 </td>
        </tr>
      </table>
    </td>
    <td colspan="2" valign="top"> 
      <table width="50" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td><img src="../../images/top_arch.gif" width="581" height="48" align="bottom"></td>
        </tr>
        <tr valign="top"> 
          <td valign="top"><table width="581" border="0" cellspacing="0" cellpadding="0" height="48">
  <tr valign="top"> 
    <td><a href="../../othresources.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image7','','../../images/topmenu_images/otop_menu_resources.gif',1)"><img name="Image7" border="0" src="../../images/topmenu_images/top_menu_resources.gif" width="115" height="45" align="top"></a><a href="../../sitemap.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image8','','../../images/topmenu_images/otop_menu_sitemap.gif',1)"><img name="Image8" border="0" src="../../images/topmenu_images/top_menu_sitemap.gif" width="91" height="45" align="top"></a><a href="../../licensing.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image9','','../../images/topmenu_images/otop_menu_licensing.gif',1)"><img name="Image9" border="0" src="../../images/topmenu_images/top_menu_licensing.gif" width="75" height="45" align="top"></a><a href="../../aboutus.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image6','','../../images/topmenu_images/otop_menu_aboutus.gif',1)"><img src="../../images/topmenu_images/filler.gif" width="6" height="45" align="top" border="0"><img name="Image6" border="0" src="../../images/topmenu_images/top_menu_aboutus.gif" width="75" height="45" align="top"></a><a href="../../index.shtml" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image192','','../../images/topmenu_images/otop_menu_home.gif',1)"><img name="Image192" border="0" src="../../images/topmenu_images/top_menu_home.gif" width="61" height="45" align="top"></a><img src="../../images/topmenu_images/top_menu_filler.gif" width="37" height="45" align="top"><img src="../../images/topmenu_images/top_menu_end.gif" width="121" height="45" align="top"></td>
  </tr>
</table>
<!-- #BeginEditable "Section%20title/logo" --><i><b><font size="24" color="#0000BF" face="Arial"><img
src="../../images/logos/cpumon.gif" alt="Logo" width="146" height="33"></font></b></i><a name='top'></a><br>
            <img src="../../images/spacer.gif" width="5" height="1"><b>Copyright &copy; 
            1998-1999&nbsp;<a href="mailto:mark@sysinternals.com">Mark Russinovich</a><font face="arial"></font></b><!-- #EndEditable --></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr> 
    <td colspan="2" valign="top"> 
      <table width="570" border="0" cellspacing="0" cellpadding="0">
        <tr valign="top"> 
          <td colspan="3" height="429"><!-- #BeginEditable "Body" -->
            <TABLE CELLSPACING="10" CELLPADDING="0" WIDTH="408">
              <TR valign="top" align="left"> 
                <TD COLSPAN="2" width="651"> 
                  <table width="580" border="0" cellspacing="0" cellpadding="0">
                    <tr> 
                      <td><img src="../../images/spacer.gif" width="15" height="500"></td>
                      <td valign="top"> 
                        <table width="549" border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
                          <tr> 
                            <td colspan="2"><b></b></td>
                          </tr>
                          <tr valign="top"> 
                            <td colspan="2"><span class='include'>Last Updated 
                              April 5, 1999 v2.0</span>
<hr>
                            </td>
                          </tr>
                          <tr valign="middle"> 
                            <td colspan="2" height="40"><span class='sectionheader'>Introduction</span> 
                            </td>
                          </tr>
                          <tr> 
                            <td valign="TOP" colspan="2" align="left">
                              <p><b></b><i>CPUMon</i> is an advanced performance 
                                measurement tool. Its combination GUI/device driver 
                                make the wide range of processor performance counters 
                                present on the Pentium, Pentium Pro and Pentium 
                                II/III, easily accessible. You select the two 
                                counters you&#146;re interested in, enable them 
                                via the GUI, and at a later point stop the counters 
                                in order to see their values. While a measurement 
                                is in progress you can watch the values change 
                                with NT's built-in <i>Perfmon</i>.<br>
                                <br>
                                <i>CPUMon</i> works on NT 4.0 and Win2K. </p>
                              <p><i><font color="#FF0000">Note that CPUMon does 
                                not work on Pentium 4 CPUs.</font></i><br>
                              </p>
                            </td>
                          </tr>
                          <tr> 
                            <td valign="TOP" colspan="2"><img src="../../images/screenshots/cpumonshot.gif" width="415" height="301"><br>
                              <br>
                              Here is a screenshot of <i>CPUMon's</i> counter 
                              selection dialog with <i>Perfmon</i> displaying 
                              counter values in real-time.</td>
                          </tr>
                          <tr valign="middle"> 
                            <td height="40" colspan="2"><span class='sectionheader'>Using 
                              CPUMon</span> </td>
                          </tr>
                          <tr> 
                            <td colspan="2" valign="TOP"><b></b>Simply run the 
                              <i>CPUMon</i> GUI (cpumon.exe) from the same directory 
                              that the driver (cpusys.sys) resides in. Note that 
                              it must be located on a non-network drive and that 
                              you must have administrative privilege to run <i>CPUMon</i>.<br>
                              <br>
                              After <i>CPUMon</i> has started you select the two 
                              performance counters that you wish to enable. The 
                              fact that only two counters can be active at any 
                              given time is a limitation of the processors, not 
                              <i>CPUMon</i>. Just before you are ready to start 
                              the activity you are going to measure, press the 
                              Start button. This resets and starts the selected 
                              counters. When the measured activity is complete, 
                              press the Stop button (the Start button toggles 
                              to Stop when pressed). A summary of gathered performance 
                              information is presented. This information includes 
                              the values of the two counters that were enabled, 
                              the number of seconds and cycles that have elapsed, 
                              and a variety of NT-related counters, such as context 
                              switches and page faults.<br>
                              <br>
                              Each time you exit <i>CPUMon</i> it remembers the 
                              position of the window and the counters you have 
                              selected. <br>
                            </td>
                          </tr>
                          <tr> 
                            <td colspan="2" valign="middle" height="40"><span class='sectionheader'>Perfmon</span></td>
                          </tr>
                          <tr> 
                            <td valign="TOP" colspan="2"><b></b>When you start 
                              <i>CPUMon</i> it automatically registers the processor 
                              performance counters with the built-in Windows NT/2K 
                              performance collection facility. Thus, standard 
                              tools like NT's <i>Perfmon</i> can be used to watch 
                              counter values in real-time. Simply start the desired 
                              performance tool (e.g. <i>Perfmon</i>) and select 
                              the <b>CPUMon</b> object type. <i>CPUMon</i> exposes 
                              both processor performance counters, with instances 
                              for each processor on your system. You can stop 
                              a <i>CPUMon</i> measurement, select new counters, 
                              and restart measurement without starting or stopping 
                              the display of the <i>CPUMon</i> counters in <i>Perfmon</i>. 
                              <br>
                              <i>CPUMon</i> automatically deregisters the processor 
                              performance counters when you exit it.<font face="arial"></font></td>
                          </tr>
                          <tr> 
                            <td valign="middle" colspan="2" height="40"><span class='sectionheader'>Processor 
                              Counters</span> </td>
                          </tr>
                          <tr> 
                            <td valign="TOP" colspan="2"><b><font face="arial"><font
color="#0000BF"></font></font></b>The names and descriptions of the Pentium performance 
                              counters were obtained from the <i><a
href="http://developer.intel.com/design/pentiumiii/xeon/manuals/">Intel Architecture 
                              Software Developer's Manual, Volume 3: System Programming 
                              Guide</a></i>, available for free download at the 
                              Intel Web site. Note that the Pentium (P5) has different 
                              counters than the Pentium Pro (P6) and higher Pentiums 
                              (e.g. Pentium II). Certain counters are only available 
                              on processors that have MMX support. <i>CPUMon</i> 
                              will detect MMX support and make these counters 
                              available for selection when appropriate. Also, 
                              some counters are only available as counter 0 or 
                              1, while most can be selected as either counter. 
                              <i>CPUMon</i> correctly displays this information.<br><br>
                              <br>
                            </td>
                          </tr>
                          <tr> 
                            <td colspan="2" align="CENTER"><b><a href="../../files/cpumon.zip" target="">Download 
                              CPUMon (61KB)</a></b><br>
                              <br>
                              <a href="#top"><b>Back to Top</b></a> </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </TD>
              </TR>
            </TABLE>
            <!-- #EndEditable --></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
<!-- #EndTemplate --></html>
